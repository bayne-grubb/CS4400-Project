<!DOCTYPE html>
<html lang="en">
<form action="" method="post">

  <div class="container">
    <label for="fname"><b>First Name</b></label>
    <input type="text" id="fnameVal" placeholder="Enter First Name" name="fname" required>
    <label for="lname"><b>Last Name</b></label>
    <input type="text" id="lnameVal" placeholder="Enter Last Name" name="lname" required>

  </div>

  <div class="container">
    <label for="uname"><b>Username</b></label>
    <input type="text" id="unameVal" placeholder="Enter Username" name="uname" required>
  </div>

  <div>
    <label for="psw"><b>Password</b></label>
    <input type="password" id="passVal" placeholder="Enter Password" name="psw" required>
    <label for="cpsw"><b>Confirm Password</b></label>
    <input type="password" id="conPassVal" placeholder="Confirm Password" name="cpsw" required>
  </div>

  <div>
      <label for="cc1"><b>Credit Card 1</b></label>
      <input id="cc1Val" maxlength="16" minlength="16" placeholder="Enter Card Number" name="cc1" required>
  </div>
  <div>
      <label for="cc2"><b>Credit Card 2</b></label>
      <input id="cc2Val" maxlength="16" minlength="16" placeholder="Enter Card Number" name="cc2" >
  </div>123
  <div>
      <label for="cc3"><b>Credit Card 3</b></label>
      <input id="cc3Val" maxlength="16" minlength="16"placeholder="Enter Card Number" name="cc3" >
  </div>
  <div>
      <label for="cc4"><b>Credit Card 4</b></label>
      <input id="cc4Val" maxlength="16" minlength="16" placeholder="Enter Card Number" name="cc4" >
  </div>
  <div>
      <label for="cc5"><b>Credit Card 5</b></label>
      <input id="cc5Val" maxlength="16" minlength="16" placeholder="Enter Card Number" name="cc5" >
  </div>

  <div>
        <button type="submit">Register</button>
       
  </div>
</form>
 <button id="backBtn"> Back </button>
</body>
</html>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script type="text/javascript">
    $(document).ready(function(){
    $("#genBtn").button().click(function(){
        fname = $("#fnameVal").val();
        lname = $("#lnameVal").val();
        username = $("#userVal").val();
        company = $("#compVal").val();
        password = "";
        if ($("#passVal").val() == $("#conPassVal").val()) {
            password = $("#passVal").val();
        }
        cc1 = $("cc1Val").val();
        if (cc1.length != 16) {
            alert("Credit Card number must be 16 digits")
        }
        cc2 = $("cc2Val").val();
        if (cc2.length != 16 || cc2.length != 0) {
            alert("Credit Card number must be 16 digits")
        }
        cc3 = $("cc3Val").val();
        if (cc3.length != 16 || cc3.length != 0) {
            alert("Credit Card number must be 16 digits")
        }
        cc4 = $("cc4Val").val();
        if (cc4.length != 16 || cc4.length != 0) {
            alert("Credit Card number must be 16 digits")
        }
        cc5 = $("cc5Val").val();
        if (cc5.length != 16 || cc5.length != 0) {
            alert("Credit Card number must be 16 digits")
        }
        if (noneEmpty(fname, lname, username, password)) {
               $.ajax({
                type: "POST",
                url: "cusRegi/",
                contentType: "application/json",
                dataType: "json",
                data: JSON.stringify({
                    fname: fname,
                    lname: lname,
                    username: username,
                    password: password,
                    cc1: cc1,
                    cc2: cc2,
                    cc3: cc3,
                    cc4: cc4,
                    cc5: cc5
                }),
                success: function(response) {
                    console.log(response);
                    // newUrl = response['newUrl'];
                    // $( "#newUrl" ).val(window.location.href + newUrl);
                    // $("#sucAlert").slideDown(1000, function(){
                    //     setTimeout(function(){
                    //         $("#sucAlert").slideUp(1000);
                    //     }, 1000);
                    // });
                },
                error: function(response) {
                    alert(response);
                }
            });
        } else {
            alert("Invalid Url");
        }

    });
    $("#backBtn").button().click(function(){
        window.location.href = 'regNav';
    });
});
    /**
    This function will check if any fields are empty.

    @param:
    @return bool - valid string or not
    */
    function noneEmpty(fname, lname, username, password) {
        if (fname == "" || lname == "" || username == "" || password == "") {
            return false;
        }
        return true;
    }
</script>
